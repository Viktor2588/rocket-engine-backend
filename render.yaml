services:
  - type: web
    name: rocket-engine-backend
    env: docker
    dockerfilePath: ./Dockerfile
    autoDeploy: true
    envVars:
      # DATABASE_URL is parsed by docker-entrypoint.sh into SPRING_DATASOURCE_* vars
      # Set DATABASE_URL in Render dashboard to your Neon connection string
      - key: SPRING_PROFILES_ACTIVE
        scope: run
        value: production
      - key: CORS_ALLOWED_ORIGINS
        scope: run
        value: https://viktor2588.github.io
      # DATABASE_URL should be set manually in Render dashboard:
      # postgresql://neondb_owner:<password>@ep-noisy-wildflower-agl26bx3-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
